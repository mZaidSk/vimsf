<app-loader class="loader" *ngIf="isLoading"></app-loader>
<div class="main-content">
  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-12 col-sm-12 col-xs-12">
        <div class="inventory-box">
          <div class="inhhouse-box">
            <div class="inventory-form">
              <form [formGroup]="form" (ngSubmit)="formGroup()">
                <div class="row">
                  <div class="col-md-4 col-lg-3">
                    <div class="add-tran-input">
                      <label class="label-input">Client</label>
                      <ng-select
                        [clearable]="true"
                        loadingText="Loading..."
                        [virtualScroll]="true"
                        placeholder="Type to search"
                        formControlName="client_id"
                        [searchable]="true"
                        (search)="clientSearch($event)"
                      >
                        <ng-option
                          *ngFor="let client of clients"
                          [value]="client.id"
                        >
                          {{ client.name }} (
                          {{ client.website?.name }} )</ng-option
                        >
                      </ng-select>
                    </div>
                  </div>
                  <div class="col-md-4 col-lg-3">
                    <div class="add-tran-input">
                      <label class="label-input">Start Date</label>
                      <input
                        type="datetime-local"
                        class="invt-input titlecase date-input"
                        formControlName="start_date_time"
                      />
                    </div>
                  </div>
                  <div class="col-md-4 col-lg-3">
                    <div class="add-tran-input">
                      <label class="label-input">End Date</label>
                      <input
                        type="datetime-local"
                        class="invt-input titlecase date-input"
                        formControlName="end_date_time"
                      />
                    </div>
                  </div>
                  <div class="col-md-4 col-lg-3">
                    <div
                      class="inverntory-btn mr-2"
                      style="position: relative; top: 27px"
                    >
                      <button mat-button>Apply</button>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-3 col-lg-3 col-xs-12 dash-column">
        <div class="inventory-box" [routerLink]="['/request', 'deposit']">
          <div class="inventory-icon">
            <img
              src="../../../../assets/images/deposit-req.png"
              class="img-fluid"
              alt=""
            />
          </div>
          <div class="inventory-cont">
            <p>Deposit Request</p>
            <h5>{{ dashboardItems?.deposit_request }}</h5>
          </div>
        </div>
      </div>
      <div class="col-md-3 col-lg-3 col-xs-12 dash-column">
        <div
          class="inventory-box"
          style="padding: 30px 0px"
          [routerLink]="['/request', 'withdrawal']"
        >
          <div class="inventory-icon">
            <img
              src="../../../../assets/images/withdraw-req.png"
              class="img-fluid"
              alt=""
            />
          </div>
          <div class="inventory-cont">
            <p>Withdrawal Request</p>
            <h5>{{ dashboardItems?.withdrawal_request }}</h5>
          </div>
        </div>
      </div>
      <div class="col-md-3 col-lg-3 col-xs-12 dash-column">
        <div
          class="inventory-box"
          style="padding: 30px 0px"
          [routerLink]="['/request', 'id-creation']"
        >
          <div class="inventory-icon">
            <img
              src="../../../../assets/images/id-req.png"
              class="img-fluid"
              alt=""
            />
          </div>
          <div class="inventory-cont">
            <p>ID Creation Request</p>
            <h5>{{ dashboardItems?.idCreate_request }}</h5>
          </div>
        </div>
      </div>
      <div class="col-md-3 col-lg-3 col-xs-12 dash-column">
        <div
          class="inventory-box"
          style="padding: 30px 0px"
          [routerLink]="['/request', 'id-change-password']"
        >
          <div class="inventory-icon">
            <img
              src="../../../../assets/images/password-change.png"
              class="img-fluid"
              alt=""
            />
          </div>
          <div class="inventory-cont">
            <p>Password Change Request</p>
            <h5>{{ dashboardItems?.passwordChange_request }}</h5>
          </div>
        </div>
      </div>
    </div>
    <div class="row justify-content-center">
      <div class="col-lg-2 col-sm-2 col-xs-12 dash-column">
        <div class="inventory-box">
          <div class="inventory-icon">
            <img
              src="../../../../assets/images/total.png"
              class="img-fluid"
              alt=""
            />
          </div>
          <div class="inventory-cont">
            <p>Total Transaction</p>
            <h5>{{ dashboardItems?.total_transaction }}</h5>
          </div>
        </div>
      </div>
      <div class="col-lg-2 col-sm-2 col-xs-12 dash-column">
        <div class="inventory-box">
          <div class="inventory-icon">
            <img
              src="../../../../assets/images/deposit.png"
              class="img-fluid"
              alt=""
            />
          </div>
          <div class="inventory-cont">
            <p>Total Deposit</p>
            <h5>{{ dashboardItems?.deposit }}</h5>
          </div>
        </div>
      </div>
      <div class="col-lg-2 col-sm-2 col-xs-12 dash-column">
        <div class="inventory-box">
          <div class="inventory-icon">
            <img
              src="../../../../assets/images/withdrawal.png"
              class="img-fluid"
              alt=""
            />
          </div>
          <div class="inventory-cont">
            <p>Total Withdraw</p>
            <h5>{{ dashboardItems?.withdraw }}</h5>
          </div>
        </div>
      </div>
      <div class="col-lg-2 col-sm-2 col-xs-12 dash-column">
        <div class="inventory-box">
          <div class="inventory-icon">
            <img
              src="../../../../assets/images/new-clients.png"
              class="img-fluid"
              alt=""
            />
          </div>
          <div class="inventory-cont">
            <p>New Client's</p>
            <h5>{{ dashboardItems?.new_client }}</h5>
          </div>
        </div>
      </div>
      <div class="col-lg-2 col-sm-2 col-xs-12 dash-column">
        <div class="inventory-box" style="padding: 30px 0px">
          <div class="inventory-icon">
            <img
              src="../../../../assets/images/ref-client.png"
              class="img-fluid"
              alt=""
            />
          </div>
          <div class="inventory-cont">
            <p>New Refered Client's</p>
            <h5>{{ dashboardItems?.new_ref_client }}</h5>
          </div>
        </div>
      </div>
      <div class="col-lg-2 col-sm-2 col-xs-12 dash-column">
        <div class="inventory-box" style="padding: 30px 0px">
          <div class="inventory-icon">
            <img
              src="../../../../assets/images/new-deposit.png"
              class="img-fluid"
              alt=""
            />
          </div>
          <div class="inventory-cont">
            <p>New Client Deposit</p>
            <h5>{{ dashboardItems?.new_client_deposit }}</h5>
          </div>
        </div>
      </div>
      <div class="col-lg-2 col-sm-2 col-xs-12 dash-column">
        <div class="inventory-box">
          <div class="inventory-icon">
            <img
              src="../../../../assets/images/new-clients-pl.png"
              class="img-fluid"
              alt=""
            />
          </div>
          <div class="inventory-cont">
            <p>New Client P/L</p>
            <h5>{{ dashboardItems?.new_client_pl }}</h5>
          </div>
        </div>
      </div>
      <div class="col-lg-2 col-sm-2 col-xs-12 dash-column">
        <div class="inventory-box">
          <div class="inventory-icon">
            <img
              src="../../../../assets/images/bonus-amount.png"
              class="img-fluid"
              alt=""
            />
          </div>
          <div class="inventory-cont">
            <p>Bonus Amount</p>
            <h5>{{ dashboardItems?.bonus || 0 }}</h5>
          </div>
        </div>
      </div>
      <div class="col-lg-2 col-sm-2 col-xs-12 dash-column">
        <div class="inventory-box">
          <div class="inventory-icon">
            <img
              src="../../../../assets/images/modified-ent.png"
              class="img-fluid"
              alt=""
            />
          </div>
          <div class="inventory-cont">
            <p>Modified Entries</p>
            <h5>{{ dashboardItems?.total_modified }}</h5>
          </div>
        </div>
      </div>
      <div class="col-lg-2 col-sm-2 col-xs-12 dash-column">
        <div class="inventory-box">
          <div class="inventory-icon">
            <img
              src="../../../../assets/images/recovery-amount.png"
              class="img-fluid"
              alt=""
            />
          </div>
          <div class="inventory-cont">
            <p>Recovery Amount</p>
            <h5>{{ dashboardItems?.recovery_amount }}</h5>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-6 col-sm-12 col-xs-12">
        <div class="inventory-box inventory-box2">
          <div class="map-title">
            <h5 style="margin-bottom: 18px">Current Balance in Banks</h5>
          </div>
          <div class="inventory-table">
            <table mat-table [dataSource]="dashboardItems?.banks">
              <ng-container matColumnDef="name">
                <th
                  mat-header-cell
                  *matHeaderCellDef
                  style="text-align: left; padding-left: 0"
                >
                  Bank Name
                </th>
                <td
                  mat-cell
                  *matCellDef="let element"
                  style="text-align: left; padding-left: 0"
                >
                  {{ element.name }} ({{ element.transactions_count }})
                </td>
              </ng-container>
              <ng-container matColumnDef="amount">
                <th mat-header-cell *matHeaderCellDef style="text-align: left">
                  Amount
                </th>
                <td mat-cell *matCellDef="let element" style="text-align: left">
                  {{ element.amount }}
                </td>
              </ng-container>
              <ng-container matColumnDef="branch">
                <th mat-header-cell *matHeaderCellDef style="text-align: left">
                  Branch
                </th>
                <td mat-cell *matCellDef="let element" style="text-align: left">
                  {{ element.branch }}
                </td>
              </ng-container>
              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
            </table>
          </div>
        </div>
      </div>
      <div class="col-lg-6 col-sm-12 col-xs-12">
        <div class="inventory-box inventory-box2">
          <div class="map-title">
            <h5 style="margin-bottom: 18px">Available Balance in Panels</h5>
          </div>
          <div class="inventory-table">
            <table mat-table [dataSource]="dashboardItems?.points">
              <ng-container matColumnDef="name">
                <th
                  mat-header-cell
                  *matHeaderCellDef
                  style="text-align: left; padding-left: 0"
                >
                  Website Name
                </th>
                <td
                  mat-cell
                  *matCellDef="let element"
                  style="text-align: left; padding-left: 0"
                >
                  {{ element.name }}
                </td>
              </ng-container>
              <ng-container matColumnDef="balance">
                <th mat-header-cell *matHeaderCellDef style="text-align: left">
                  Balance
                </th>
                <td mat-cell *matCellDef="let element" style="text-align: left">
                  {{ element.balance }}
                </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="pointsColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: pointsColumns"></tr>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
